<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
  </head>
  <body>
    <script>
      var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 800,
        physics: {
          default: "arcade"
        },
        scene: {
          preload: preload,
          create: create,
          update: update
        }
      };
      var game = new Phaser.Game(config);

      function preload() {
        this.load.image("space", "assets/SpaceBackdrop.png");
        this.load.image("ship", "assets/cargoShip.png", {
          frameWidth: 32,
          frameHeight: 32
        });
      }

      let player;
      let cursors;

      function create() {
        this.add.image(400, 400, "space");

        //player ship
        player = this.physics.add.image(400, 500, "ship");
        player.body.maxVelocity.set(200);
        // player.setDrag(300);
        // player.setAngularDrag(400);

        //controls
        cursors = this.input.keyboard.createCursorKeys();
      }

      function update() {
        //set initial velocity for player ship

        // player.body.velocity.x = 0;
        // player.body.velocity.y = 0;
        // player.body.angularVelocity = 0;

        if (cursors.left.isDown) {
          player.body.angularVelocity = -200;
        } else if (cursors.right.isDown) {
          player.body.angularVelocity = 200;
        } else {
          player.setAngularVelocity(0);
        }
        if (cursors.up.isDown) {
          this.physics.velocityFromRotation(
            player.rotation - 1.5,
            player.body.speed + 30,
            player.body.acceleration
          );
        } else {
          player.setAcceleration(0);
        }
        if (cursors.down.isDown) {
          player.setDrag(100);
          player.setAngularDrag(400);
        }
      }
    </script>
  </body>
</html>
